<div class="header">
    <ul class="nav nav-pills pull-right">
        <li class="">
            <a href="" ng-click="restart()">
                <span class="glyphicon glyphicon-repeat" aria-hidden="true"></span> Restart
            </a>
        </li>
        <li class="">
            <a ng-if="currentStory.canEdit" href="#/story/{{currentStory._id}}/edit">
                <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Edit
            </a>
        </li>
        <li class="">
            <a href="#/">
                <span class="glyphicon glyphicon-home" aria-hidden="true"></span> Accueil
            </a>
        </li>
    </ul>
    <h2 class="text-muted">{{currentStory.title}}</h2>
</div>

<div ng-show="currentStory.canEdit">
    <a class="btn btn-default pull-right" ng-click="switchEditMode()">
        <span ng-hide="editMode"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Edit</span>
        <span ng-show="editMode"><span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span> Save</span>
    </a>
</div>

<div ng-if="editMode">
    <h3>Édition de la page <span class="text-danger">{{page.name}}</span></h3>
    <textarea id="editor" ng-model="page.content"></textarea>
</div>

<div ng-if="!editMode">
    <div ng-if="page" ng-bind-html="page.content|parseText"></div>
    <p ng-if="!page">
        No page yet. <a ng-if="currentStory.canEdit" href="" ng-click="newPage()">Create it !</a>
    </p>
</div>
